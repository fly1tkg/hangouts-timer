<?xml version="1.0" encoding="UTF-8" ?>
<Module>
<!-- Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy of
 * the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *	
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License
-->
	<ModulePrefs title="Hangout Starter">
		<Require feature="rpc" />
		<Require feature="views" />
		<Require feature="locked-domain" />
	</ModulePrefs>
	<Content type="html"><![CDATA[

<html>
  <style type="text/css">
  </style>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

  <body>
    <script src="//plus.google.com/hangouts/_/api/hangout.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://5a3fa4a2.ngrok.com/javascripts/timer.js"></script>
    <script src="https://5a3fa4a2.ngrok.com/javascripts/moment.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

    <div class="container">
      <h3>Timer</h3>

      <h4 id="timerText">00:00</h4>

      <p>
        <button class="btn btn-primary" onClick="timer.start()">Start</button>
        <button class="btn btn-danger" onClick="timer.stop()">Stop</button>
      </p>

      <p>
        <button class="btn" onClick="timer.addSeconds(1)">+1 second</button>
        <button class="btn" onClick="timer.addSeconds(10)">+10 seconds</button>
      </p>

      <p>
        <button class="btn" onClick="timer.addMinutes(1)">+1 minute</button>
        <button class="btn" onClick="timer.addMinutes(10)">+10 minutes</button>
      </p>

      <canvas id="a_canvas" width="600" height="350" style="display:none;"></canvas>
    </div>


    <script>
      var timer;

      var init = (function () {
        // When API is ready...
        gapi.hangout.onApiReady.add(
          function(eventObj) {
            if (eventObj.isApiReady) {
              console.log('ready');
              var canvas = $('#a_canvas')[0];
              var timerText = $('#timerText');
              timer = new Timer(canvas, timerText);
            }
          }
        )
      });

      gadgets.util.registerOnLoadHandler(init);
    </script>

  </body>
<html>
]]>
</Content>
</Module>

